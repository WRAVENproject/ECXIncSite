<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECX Inc. | WMU CTF</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* Reset and Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --bg-color: #121212; /* Slightly darker than #1a1a1a for depth */
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --accent-color: #FFC72C; /* WMU Gold */
            --secondary-accent: #00ffff; /* Optional accent */
            --border-color: rgba(255, 255, 255, 0.1);
            --grid-line-color: rgba(255, 255, 255, 0.04);
            --font-primary: 'Inter', sans-serif;
            --font-mono: 'Source Code Pro', monospace;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-primary);
            line-height: 1.6;
            font-size: 16px;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-mono);
            color: var(--text-color);
            margin-bottom: 0.8em;
            line-height: 1.2;
            font-weight: 700;
        }

        h1 { font-size: 2.8rem; letter-spacing: 1px; }
        h2 { font-size: 2rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.3em; margin-bottom: 1em;}
        h3 { font-size: 1.4rem; color: var(--accent-color); font-weight: 400;} /* Use accent for section sub-heads */

        p {
            margin-bottom: 1em;
            max-width: 70ch; /* Improve readability */
        }

        a {
            color: var(--accent-color);
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }

        a:hover, a:focus {
            color: #fff;
            text-decoration: underline;
            text-decoration-thickness: 1px;
            text-underline-offset: 3px;
        }

        code {
            font-family: var(--font-mono);
            background-color: rgba(255, 255, 255, 0.05);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-size: 0.9em;
        }

        /* Layout & Grid System */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        header {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* Updated Logo */
        .logo {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
        }
        .logo span { color: var(--accent-color); } /* Highlight Inc. part */

        nav ul {
            list-style: none;
            display: flex;
            gap: 1.5rem;
        }

        nav a {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-color);
            text-decoration: none;
            position: relative;
            padding-bottom: 5px;
        }
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent-color);
            transition: width 0.3s ease;
        }
        nav a:hover::after, nav a:focus::after {
            width: 100%;
        }
        nav a:hover, nav a:focus {
            color: #fff;
            text-decoration: none;
        }


        /* Main Content Grid (Bento Box) */
        main {
            /* Subtle grid background */
            background-image:
                linear-gradient(var(--grid-line-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-line-color) 1px, transparent 1px);
            background-size: 40px 40px;
            padding: 2rem 0; /* Padding top/bottom for the grid lines */
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive columns */
            gap: 1.5rem; /* Gap between grid items */
            padding: 1rem; /* Padding around the grid itself */
        }

        .grid-item {
            background-color: var(--card-bg);
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px; /* Slightly rounded corners */
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }

        .grid-item:hover {
            border-color: rgba(255, 199, 44, 0.5); /* Highlight border on hover */
        }

        /* Spanning items for bento effect (example) */
        #home { grid-column: span 2; } /* Make home section wider */
        #join { grid-column: span 1; } /* Adjust spans as needed for layout */
        #about { grid-column: span 1; }
        #members { grid-column: span 2; }
        #competitions { grid-column: span 2; }


        /* Section Specific Styles */
        #home h1 {
            margin-bottom: 0.5rem;
            color: #fff; /* Make main headline brighter */
        }
        #home .subheadline {
            font-size: 1.2rem;
            color: var(--text-color);
            font-family: var(--font-primary);
            margin-bottom: 0; /* Remove bottom margin if it's the last element */
        }

        /* Glitch effect (very subtle) */
        .glitch-effect {
            animation: glitch 5s infinite steps(1); /* Apply sparingly */
            display: inline-block;
        }

        @keyframes glitch {
          0%, 100% { text-shadow: none; transform: none; }
          5% { text-shadow: -1px -1px 0 var(--accent-color), 1px 1px 0 var(--secondary-accent); transform: translate(1px, -1px); }
          6% { text-shadow: none; transform: none; }
          7% { text-shadow: 1px -1px 0 var(--accent-color), -1px 1px 0 var(--secondary-accent); transform: translate(-1px, 1px); }
          8% { text-shadow: none; transform: none; }
          /* Add more subtle steps if desired, keep percentages low and sparse */
        }


        #members .member-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .member-card {
            text-align: center;
            background: rgba(0,0,0,0.2);
            padding: 1rem;
            border-radius: 4px;
            border: 1px solid var(--border-color);
             transition: background-color 0.2s ease;
        }
        .member-card:hover {
             background-color: rgba(255, 199, 44, 0.05);
        }

        .member-card .handle {
            font-family: var(--font-mono);
            font-weight: 700;
            color: var(--accent-color);
            font-size: 1.1rem;
            display: block; /* Make it block for spacing */
            margin-bottom: 0.3rem;
        }
        .member-card .role {
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.8;
        }
        .member-card .icon-placeholder { /* Placeholder for photo/icon */
             display: block;
             width: 60px;
             height: 60px;
             background: var(--border-color);
             border-radius: 50%;
             margin: 0 auto 0.8rem auto;
             /* In real site, replace with <img> or SVG */
             line-height: 60px;
             font-family: var(--font-mono);
             font-size: 1.5rem;
             color: var(--accent-color);
        }


        #competitions ul {
            list-style: none;
            padding-left: 0;
        }
        #competitions li {
            margin-bottom: 1rem;
            padding-left: 1.5em;
            position: relative;
        }
        #competitions li::before {
            content: '>>'; /* Terminal-like bullet */
            position: absolute;
            left: 0;
            top: 0;
            font-family: var(--font-mono);
            color: var(--accent-color);
        }
        #competitions a { /* Style links within competition list */
             font-weight: 600;
        }


        /* Contact / Join Button */
        .join-button {
            display: inline-block;
            background-color: var(--accent-color);
            color: #111; /* Dark text on gold button */
            padding: 0.8rem 1.5rem;
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 4px;
            font-weight: 700;
            text-decoration: none;
            transition: background-color 0.2s ease, color 0.2s ease, transform 0.1s ease;
            margin-top: 1rem;
            border: 1px solid var(--accent-color);
        }

        .join-button:hover, .join-button:focus {
            background-color: transparent;
            color: var(--accent-color);
            text-decoration: none;
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem 1.5rem;
            margin-top: 2rem;
            font-size: 0.9rem;
            position: absolute;
            left: 50%; 
            transform: translate(-50%, -50%);
        }
        
        /* Terminal */
        .footer-terminal {
            background-color: #111;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 1rem;
            margin: 1.5rem auto 0 auto;
            max-width: 600px;
            text-align: left;
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }

        .terminal-output {
            height: 450px; /* Fixed height */
            overflow-y: auto; /* Scrollable */
            margin-bottom: 0.5rem;
            line-height: 1.4;
            color: var(--text-color); /* Ensure output text is readable */
        }
        .terminal-output div {
            white-space: pre-wrap; /* Preserve whitespace and wrap lines */
        }
        .terminal-output .prompt { color: var(--accent-color); }
        .terminal-output .error { color: #ff6b6b; } /* Reddish for errors */


        .terminal-input-line {
            display: flex;
            align-items: center;
        }

        .terminal-input-line span { /* Prompt */
            color: var(--accent-color);
            margin-right: 0.5em;
        }

        #terminalInput {
            flex-grow: 1;
            background: none;
            border: none;
            color: var(--text-color);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            outline: none;
        }


        @keyframes blink {
            50% { border-color: transparent; }
        }


        /* Responsive Adjustments */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }

            .header-content { flex-direction: column; gap: 1rem; }
            nav ul { justify-content: center; flex-wrap: wrap; }

            .grid-container {
                grid-template-columns: 1fr; /* Stack items vertically */
                padding: 0.5rem;
            }
            /* Reset spans for smaller screens */
            #home, #about, #members, #competitions, #join {
                grid-column: span 1;
            }
            .grid-item { padding: 1.5rem; }

             #members .member-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 1rem;
            }
            .member-card .icon-placeholder { width: 50px; height: 50px; line-height: 50px; font-size: 1.2rem;}
        }

         @media (max-width: 480px) {
             h1 { font-size: 1.8rem; }
             h2 { font-size: 1.5rem; }
             body { font-size: 15px; }
             .container { padding: 1.5rem 1rem; }
             nav ul { gap: 1rem; }
             .footer-terminal { font-size: 0.8rem; }
             #terminalInput { font-size: 0.8rem; }
         }

    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <div class="logo">ECX<span> Inc.</span></div>
            <nav>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#members">Hackers</a></li>
                    <li><a href="#competitions">Competitions</a></li>
                    <li><a href="#join">Join</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container grid-container">

            <section id="home" class="grid-item">
                <h1><span class="glitch-effect">ECX Inc.</span></h1>
                <p class="subheadline">Western Michigan University's official CTF team. Sharpening skills. Capturing flags. A joint initiative by <a href="https://wraven.org" target="https://wraven.org" rel="noopener noreferrer">WRAVEN</a> and <a href="https://ccawmu.org" target="https://ccawmu.org" rel="noopener noreferrer">CCaWMU</a>.</p>

                <div class="footer-terminal">
                    <div class="terminal-output" id="terminalOutput"><div>Welcome to the ECX Inc. console. Type 'help' for commands.</div></div>
                    <div class="terminal-input-line">
                        <span>&gt;</span>
                        <input type="text" id="terminalInput" autocomplete="off" spellcheck="false">
                    </div>
                </div>
            </section>

            <section id="about" class="grid-item">
                <h2>About Us</h2>
                <h3>Mission & Purpose</h3>
                <p>We are ECX Inc., Western Michigan University's premier Capture The Flag (CTF) team, EST. 2013, dedicated to cultivating cybersecurity talent through rigorous training and competitive events. We tackle challenges across cryptography, reverse engineering, web exploitation, pwn, & more.</p>
                <h3>WRAVEN & Computer Club</h3>
                 <p>ECX Inc. operates as a collaborative effort between WRAVEN (WMU's techical cybersecurity RSO) and the Computer Club, bringing together diverse technical interests focused on practical security application.</p>
                 <h3>What is CTF?</h3>
                <p>CTF competitions are cybersecurity challenges where participants solve problems to find hidden "flags," simulating real-world security tasks in a controlled, gamified environment.</p>
            </section>

            <section id="join" class="grid-item">
                <h2>Join the Ranks</h2>
                <h3>Ready to Compete?</h3>
                <p>We welcome dedicated WMU students with a passion for cybersecurity and problem-solving. Whether you're experienced or a serious learner ready to dive deep, connect with ECX Inc.</p> <p>The best way to get involved is through our primary communication channel:</p>
                <a href="https://discord.gg/a7myESJp" class="join-button" target="_blank" rel="noopener noreferrer">Join Discord</a>
                <p style="margin-top: 1rem; font-size: 0.9em; opacity: 0.8;">(Link leads to the 'WMU SecNet' server temporarily)</p>
            </section>


            <section id="members" class="grid-item">
                <h2>Current Members</h2>
                <h3>Core Team Roster</h3>
                 <div class="member-grid">
                    <div class="member-card">
                        <div class="icon-placeholder">K</div> <span class="handle">krackentosh</span>
                        <span class="role">Captain</span>
                    </div>
                     <div class="member-card">
                        <div class="icon-placeholder">|\/|</div> <span class="handle">thrawn</span>
                        <span class="role">Rev / OSINT</span>
                    </div>
                     <div class="member-card">
                        <div class="icon-placeholder">{;}</div> <span class="handle">Reef</span>
                        <span class="role">Pwn</span>
                    </div>
                     <div class="member-card">
                        <div class="icon-placeholder">:3</div> <span class="handle">airbreak</span>
                        <span class="role">Forensics</span>
                    </div>
                     <div class="member-card">
                        <div class="icon-placeholder">φ</div> <span class="handle">quake</span>
                        <span class="role">Generalist</span>
                    </div>
                        <div class="member-card">
                        <div class="icon-placeholder">Σ</div> <span class="handle">snakeSalad</span>
                        <span class="role">Web</span>
                    </div>
                        <div class="member-card">
                        <div class="icon-placeholder">Ξ</div> <span class="handle">clownswag</span>
                        <span class="role">Pwn / Forensics</span>
                    </div>
                        <div class="member-card">
                        <div class="icon-placeholder">Ψ</div> <span class="handle">wolv1ee</span>
                        <span class="role">OSINT</span>
                    </div>
            </div>
            </section>

            <section id="competitions" class="grid-item">
                <h2>Competition Intel</h2>
                <h3>ECX Inc. Achievements</h3> <ul>
                    <li><strong>MWC3:</strong> Created 6 Challenges! <a href="#writeup-link-1">(Github)</a></li>
                    <li><strong>Placeolder</strong> Something something</li>
                    <li><strong>Placeholder:</strong> 1st Place :O</li>
                    <li><strong>Something else 2021!</strong> Multiple members in Gold/Platinum brackets. <a href="#ncl-details">(Details)</a></li>
                    <li><strong>Upcoming:</strong> Preparing for PLACEHOLDER 2025</li>
                    </ul>
                 <p style="margin-top: 1.5rem; font-style: italic; opacity: 0.8;">Detailed results and challenge analyses are often shared on our Discord and member blogs.</p>
            </section>

        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; <span id="currentYear"></span> ECX Inc. All rights reserved.<br>
            WMU's Flagship CTF Team. A collaboration between WRAVEN & The Computer Club.</p>
        </div>
    </footer>

    <script>
        // footer year
        document.getElementById('currentYear').textContent = new Date().getFullYear();
      
        // elements & state
        const terminalInput  = document.getElementById('terminalInput');
        const terminalOutput = document.getElementById('terminalOutput');
        let userIP = 'unknown';
        let mode = 'boot';             // boot → login → password → normal
        let loginUsername = '';
        let history = [];
        let historyIndex = 0;
        let rmCount = 0;
        const commandsList = [
          'motd','sudo','neofetch','rm -rf /','hacktheplanet','fortune',
          'cat flag.txt','echo $user','emacs','vim','help','whoami','ctf-info',
          'team','clear','date','ls','pwd','cd','top','man help',
          'apt-get update','dd if=/dev/zero'
        ];
        const fs = {
          '/': {
            home: {},
            'readme.txt': 'Welcome to ECX Inc system.'
          }
        };
        let currentPath = ['/'];
      
        // fetch IP & kick off boot
        window.addEventListener('load', () => {
          fetch('https://api.ipify.org?format=json')
            .then(r=>r.json()).then(d=>userIP=d.ip)
            .catch(_=>console.error('IP failed'));
          terminalInput.focus();
          showBoot();
          // random syslog every 2min
          setInterval(()=>{
            if (mode==='normal') addToOutput('[INFO] cron: running daily security scan…');
          }, 120000);
        });
      
        // BOOT sequence
        function showBoot(){
        const msgs = [ … ];
        let delay = 0;
        msgs.forEach(line=>{
            setTimeout(()=> addToOutput(line), delay);
            delay += 500;
        });
        setTimeout(()=>{
            terminalOutput.innerHTML = '';
            // your intro
            addToOutput(
            "Welcome to ECX Inc.\n"
            + "Please don't rm -rf / the server.\n"
            + "Have a nice hack :)"
            );
            // now you’re in “normal” land
        }, delay + 300);
}
      
        // LOGIN prompt
        function showLoginPrompt(){
          addToOutput('login: ');
          mode = 'login';
        }
      
        // key handler
        terminalInput.addEventListener('keydown', ev => {
        if (ev.key === 'Enter') {
            const raw = terminalInput.value;
            echoPrompt(raw);                           
            const cmd = raw.trim().toLowerCase();
            terminalInput.value = '';
            processCommand(cmd);
            ev.preventDefault();
        }
        // HISTORY navigation
        if (ev.key==='ArrowUp' || ev.key==='ArrowDown') {
            if (history.length) {
              if (ev.key==='ArrowUp' && historyIndex < history.length) historyIndex++;
              if (ev.key==='ArrowDown' && historyIndex > 0) historyIndex--;
              terminalInput.value = historyIndex
                ? history[history.length - historyIndex]
                : '';
            }
            ev.preventDefault();
            return;
          }
      
          // TAB completion
          if (ev.key==='Tab') {
            ev.preventDefault();
            const lower = val.toLowerCase();
            const match = commandsList.find(c => c.startsWith(lower));
            if (match) terminalInput.value = match;
            return;
          }
      
          // ENTER → process
          if (ev.key==='Enter') {
            const raw = terminalInput.value;
            const cmd = raw.trim().toLowerCase();
            if (!cmd) return ev.preventDefault();
      
            // echo
            addToOutput(`<span class="prompt">&gt; ${raw.replace(/</g,'&lt;').replace(/>/g,'&gt;')}</span>`);
            history.push(raw);
            historyIndex = 0;
            terminalInput.value = '';
            processCommand(cmd);
            ev.preventDefault();
          }
        });
      
        // main command dispatcher
        function processCommand(command) {
          // helper to get dir object from path array
          function getDir(pathArr) {
            let d = fs['/'];
            pathArr.slice(1).forEach(p => { if (d && d[p]) d = d[p]; });
            return d;
          }
      
          // FS: ls
          if (command.startsWith('ls')) {
            const parts = command.split(' ').filter(Boolean);
            const target = parts[1] || '.';
            let dir;
            if (target==='.') dir = getDir(currentPath);
            else if (target.startsWith('/')) dir = getDir(target.split('/'));
            else dir = getDir([...currentPath, target]);
            if (dir && typeof dir==='object') {
              addToOutput(Object.keys(dir).join('  '));
            } else {
              addToOutput(`ls: cannot access '${target}': No such directory`);
            }
            return;
          }
      
          // pwd
          if (command==='pwd') {
            addToOutput(currentPath.join('/')||'/');
            return;
          }
      
          // cd
          if (command.startsWith('cd')) {
            const parts = command.split(' ');
            const tgt = parts[1] || '/';
            if (tgt==='..') {
              if (currentPath.length>1) currentPath.pop();
              addToOutput(`Changed to ${currentPath.join('/')||'/'}`);
            }
            else if (tgt.startsWith('/')) {
              currentPath = ['/', ...tgt.split('/').filter(Boolean)];
              addToOutput(`Changed to /${currentPath.slice(1).join('/')}`);
            }
            else {
              const nxt = getDir([...currentPath, tgt]);
              if (nxt && typeof nxt==='object') {
                currentPath.push(tgt);
                addToOutput(`Changed to ${currentPath.join('/')}`);
              } else {
                addToOutput(`cd: no such file or directory: ${tgt}`);
              }
            }
            return;
          }
      
          // cat
          if (command.startsWith('cat ')) {
            const fname = command.split(' ')[1];
            const dir = getDir(currentPath);
            if (dir[fname] && typeof dir[fname]==='string') {
              addToOutput(dir[fname]);
            } else {
              addToOutput(`cat: ${fname}: No such file`);
            }
            return;
          }
      
          // mkdir
          if (command.startsWith('mkdir ')) {
            const dname = command.split(' ')[1];
            const dir = getDir(currentPath);
            if (dir[dname]) {
              addToOutput(`mkdir: cannot create directory '${dname}': File exists`);
            } else {
              dir[dname] = {};
              addToOutput(`Directory '${dname}' created`);
            }
            return;
          }
      
          // rmdir
          if (command.startsWith('rmdir ')) {
            const dname = command.split(' ')[1];
            const dir = getDir(currentPath);
            if (dir[dname] && Object.keys(dir[dname]).length===0) {
              delete dir[dname];
              addToOutput(`Directory '${dname}' removed`);
            } else {
              addToOutput(`rmdir: failed to remove '${dname}': Directory not empty or not exist`);
            }
            return;
          }
      
          // top
          if (command==='top') {
            addToOutput(
      `PID USER      PRI NI VIRT   RES   SHR S %CPU %MEM TIME+ COMMAND
      1 root      20  0 105M  12M  4.5M S  0.0  0.5 0:01 bash
      42 ecx       20  0 200M  25M  7.8M S  5.2  1.0 0:10 hacking`
            );
            return;
          }
      
          // man
          if (command.startsWith('man ')) {
            const topic = command.split(' ')[1];
            if (topic==='help') {
              addToOutput(
      `HELP(1)        User Commands        HELP(1)
      
      NAME
          help - display this help message
      
      SYNOPSIS
          help
      
      DESCRIPTION
          List all available commands and their basic usage.`
              );
            } else {
              addToOutput(`No manual entry for ${topic}`);
            }
            return;
          }
      
          // apt-get update progress
          if (command.startsWith('apt-get update')) {
            [0,20,40,60,80,100].forEach((pct,i)=>{
              setTimeout(()=>{
                const bars = Math.floor(pct/10);
                addToOutput('[' + '='.repeat(bars) + ' '.repeat(10-bars) + `] ${pct}%`);
              }, i * 300);
            });
            return;
          }
      
          // dd if=/dev/zero progress
          if (command.startsWith('dd if=/dev/zero')) {
            [0,25,50,75,100].forEach((pct,i)=>{
              setTimeout(()=> addToOutput(`${pct}% copied`), i * 400);
            });
            return;
          }
      
          // MOTD, sudo, neofetch, etc.
          if (/^motd\b/.test(command)) {
            addToOutput(`Welcome to ECX Inc.\nPlease don't rm -rf / the server.\nHave a nice hack :)`);
          }
          else if (/^sudo\b/.test(command)) {
            if (/make me a sandwich/.test(command)) {
              addToOutput(`okay.\n(sandwich.exe has been delivered)`);
            } else {
              addToOutput(`Permission denied. You are baby.`);
            }
          }
          else if (/^neofetch\b/.test(command)) {
            addToOutput(
      `ECX Inc. Virtual Terminal
      --------------------------
      Team: ECX Inc.
      System: WMU CTF Squad
      Mood: caffeinated
      IP: ${userIP}
      Skill Issue: 0`
            );
          }
          else if (/^rm\b/.test(command) && /-rf\b/.test(command) && /\//.test(command)) {
            addToOutput(`Nice try.\nBut no.`);
            rmCount++;
            if (rmCount >= 3) {
              shakeEffect();
              rmCount = 0;
            }
          }
          else if (/^hacktheplanet\b/.test(command)) {
            addToOutput(`HACK THE PLANET!!! [acid burn noises]`);
          }
          else if (/^fortune\b/.test(command)) {
            const list = [
              "Always sanitize your inputs.",
              "Cybersecurity is 90% googling.",
              "The flag is not in this terminal.",
              "If found, return to 127.0.0.1."
            ];
            addToOutput(list[Math.floor(Math.random()*list.length)]);
          }
          else if (/^cat\b/.test(command) && /flag\.txt/.test(command)) {
            addToOutput(`FLAG{you_thought_it_would_be_that_easy}`);
          }
          else if (/^echo\b/.test(command) && /\$user/.test(command)) {
            addToOutput(`site_visitor`);
          }
          else if (/^emacs\b/.test(command)) {
            addToOutput(`Opening... wait... you meant to use vim, right?`);
          }
          else if (/^vim\b/.test(command)) {
            addToOutput(`Launching vim...\nYou are now trapped. Good luck exiting.`);
          }
          else if (command==='help') {
            addToOutput(
      `Available commands:
        help      - Display this help message
        whoami    - Display user information
        ctf-info  - Basic info about CTFs and the team
        team      - List core team pillars
        clear     - Clear the terminal output
        date      - Display current date/time`
            );
          }
          else if (command==='whoami') {
            addToOutput(`User: site_visitor@ecx-inc.system\nIP Address: ${userIP}\nStatus: Analyzing... Potential asset detected.`);
          }
          else if (command==='ctf-info') {
            addToOutput(`Capture The Flag (CTF): Cybersecurity challenges across crypto, pwn, web, rev, forensics.
      ECX Inc.: WMU's premier CTF training ground and competitive team.`);
          }
          else if (command==='team') {
            addToOutput(`ECX Inc. is WMU's flagship CTF team, built by:
        * WRAVEN (Cybersecurity RSO)
        * The Computer Club`);
          }
          else if (command==='clear') {
            terminalOutput.innerHTML = '';
            return;
          }
          else if (command==='date') {
            addToOutput(`Current System Time: ${new Date().toLocaleString()}`);
          }
          else {
            // 1% random duck drone
            if (Math.random()<0.01) {
              addToOutput(`[ALERT] You're being watched by the Rubber Ducky Surveillance Drone.`);
            } else {
              const bad = command.split(' ')[0];
              addToOutput(`<span class="error">command not found: ${bad}</span>\nDid you mean: 'help'? Or perhaps... touch grass?`);
            }
          }
        }

        function echoPrompt(raw){
            const div = document.createElement('div');
            div.innerHTML = `<span class="prompt">&gt; ${raw
                .replace(/</g,'&lt;')
                .replace(/>/g,'&gt;')}</span>`;
            terminalOutput.appendChild(div);
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }
      
        // PRINT with typing effect
        function addToOutput(msg) {
          const div = document.createElement('div');
          terminalOutput.appendChild(div);
          let i = 0;
          function typeChar() {
            if (i < msg.length) {
              const ch = msg.charAt(i++);
              div.innerHTML += (ch==='\n') ? '<br>' : ch;
              terminalOutput.scrollTop = terminalOutput.scrollHeight;
              setTimeout(typeChar, 5);
            }
          }
          typeChar();
        }
      
        // SHAKE effect
        function shakeEffect() {
          const el = terminalOutput;
          let cnt = 0;
          const iv = setInterval(()=>{
            el.style.transform = (cnt%2===0) ? 'translateX(5px)' : 'translateX(-5px)';
            cnt++;
            if (cnt>6) {
              clearInterval(iv);
              el.style.transform = '';
            }
          }, 50);
        }
    </script>

</body>
</html>
